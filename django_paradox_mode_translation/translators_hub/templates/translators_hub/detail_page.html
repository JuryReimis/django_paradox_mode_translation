{% extends 'translators_hub/base.html' %}
{% load static %}

{% block head %}
    <link type="text/css" href="{% static 'translators_hub/css/detail_page_styles.css' %}" rel="stylesheet">
{% endblock head %}

{% block content %}
    <div class="container">
        <div class="row">
            {% if moderator %}
                <p class="py-3"><a class="btn btn-dark"
                                   href="{% url 'translators_hub:management' slug=current_page.slug %}">Управление
                    работой</a></p>
            {% endif %}
            <h2>Описание:</h2>
            {% if current_page.description %}
                <div class="text-center">{{ current_page.description }}</div>
            {% else %}
                <p>----</p>
            {% endif %}
            <hr>
            <h2>Авторы:</h2>
            {% for role, authors in current_page.get_sorted_roles.items %}
                <div class="px-3"><h5>{{ role }}:</h5></div>
                <div class="px-5">
                    <ul class="list-group">
                        <li class="list-group-item">
                            {% for author in authors %}
                                <div class="list-group-item borderless"><a class="btn btn-outline-info"
                                                                           href="{{ author.get_absolute_url }}">{{ author.first_name }}
                                    {{ author.last_name }}{% if author.first_name or author.last_name %}
                                        ( {% endif %}{{ author.username }}{% if author.first_name or author.last_name %}
                                        ){% endif %}</a></div>
                            {% endfor %}
                        </li>
                    </ul>
                </div>
            {% endfor %}

            <h2>Ссылки:</h2>
            <ul class="list-group list-group-numbered">
                {% if current_page.steam_link %}
                <li class="py-4"><a class="btn btn-info list-group-item" href="{{ current_page.steam_link }}">Ссылка
                    Стим</a></li>
                {% elif current_page.paradox_plaza_link %}
                <li class="py-4"><a class="btn btn-info list-group-item" href="{{ current_page.paradox_plaza_link }}">Ссылка
                    Paradox
                    Plaza</a></li>
                {% endif %}
            </ul>
            <div class="container justify-content-start"><a class="btn btn-success"
                                                            href="{% url 'translators_hub:apply_for' slug=current_page.slug %}">
                Подать заявку на участие</a></div>
        </div>
    </div>
{% endblock %}
